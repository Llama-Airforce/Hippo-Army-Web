import{d as A,ai as P,at as B,c as n,j as p,o as c,g as e,f as b,e as S,h as a,ae as T,an as D,aC as I,aK as N,b as L,ar as E,ay as F,l as R}from"./index-BbdM5O_n.js";import{a as $,_ as j}from"./UsePagination-DnGKx-cS.js";import{_ as z}from"./InputText-CnQ4NqHB.js";import{a as G,_ as H}from"./TabItem.vue_vue_type_script_setup_true_lang-BZoDQBvk.js";import{_ as K}from"./DashboardHeader-Cja8-FaJ.js";import{u as U,P as q}from"./Proposal-BPS_3gGv.js";import"./timestamp-DOR7_23P.js";import"./Pagination-vgbH7lYO.js";import"./AsyncValue-Bu6UyG9o.js";import"./KPI-MlfKiegG.js";import"./Tooltip-CXv-sUAy.js";const J={class:"dashboard"},M={class:"filters"},O={class:"proposals-content"},Q={key:0},W=A({__name:"Proposals.page",setup(X){const i=P(0),{page:u,onPage:d}=$(),t=P(""),x=B(t,300),_=n(()=>{switch(i.value){case 0:return"all";case 1:return"active";case 2:return"executable";case 3:return"failed";case 4:return"executed";default:return"all"}}),V=n(()=>x.value.toLocaleLowerCase()),{isFetching:m,data:g}=U(n(()=>({search_string:V.value}))),f=n(()=>g.value?.length??0),h=n(()=>(g.value??[]).filter(r=>_.value==="all"||r.status===_.value).orderBy(r=>r.createdAt.getTime(),"desc"));return(r,l)=>{const y=K,s=G,C=H,k=z,v=j,w=F;return c(),p("div",J,[e(y,{title:"Governance proposals",description:"View and search for governance proposals"}),e(C,{onTab:l[0]||(l[0]=o=>i.value=o.index)},{default:S(()=>[e(s,{header:"All"}),e(s,{header:"Active"}),e(s,{header:"Passed"}),e(s,{header:"Denied"}),e(s,{header:"Executed"})]),_:1}),b("div",M,[e(k,{modelValue:a(t),"onUpdate:modelValue":l[1]||(l[1]=o=>T(t)?t.value=o:null),search:"",style:{"flex-grow":"1"},placeholder:"Search for Resupply proposals"},null,8,["modelValue"]),e(v,{class:"pagination","items-count":a(f),"items-per-page":10,page:a(u),onPage:a(d)},null,8,["items-count","page","onPage"])]),b("div",O,[(c(!0),p(I,null,N(a(h),o=>(c(),L(q,{key:o.proposalId,class:E(["loading-backdrop",{loading:a(m)}]),proposal:o},null,8,["proposal","class"]))),128)),e(v,{class:"pagination","items-count":a(f),"items-per-page":10,page:a(u),onPage:a(d)},null,8,["items-count","page","onPage"]),a(h).length===0?(c(),p("div",Q,"No proposals could be found.")):D("",!0),e(w,{loading:a(m)},null,8,["loading"])])])}}}),pe=R(W,[["__scopeId","data-v-601593d6"]]);export{pe as default};
