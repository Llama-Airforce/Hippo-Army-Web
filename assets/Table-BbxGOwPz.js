import{d as I,a$ as j,c as b,j as l,o as n,ar as d,f as B,b as r,an as m,as as i,h as p,aW as D,e as f,l as A,b3 as E,aC as k,aK as $,m as L,aY as N}from"./index-V38PSwR-.js";const O={class:"row-details"},V=I({__name:"TableRow",props:{data:{},selected:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!0},expanded:{type:Boolean,default:!1}},emits:["select"],setup(a,{emit:v}){const g=v,h=j(),y=b(()=>{const t=h["row-details"];if(t){const o=t({})[0]?.children;if(o)return Array.isArray(o)&&o.length>0}return!1});return(t,c)=>{const o=D;return n(),l("div",{class:d(["row",{expanded:t.expanded}])},[B("div",{class:d(["row-data",{active:t.selected,selectable:t.selectable,hoverable:t.hoverable}]),onClick:c[0]||(c[0]=R=>t.selectable&&t.data&&g("select",t.data))},[i(t.$slots,"default",{},void 0,!0)],2),p(y)&&t.data?(n(),r(o,{key:0,expanded:t.expanded},{default:f(()=>[B("div",O,[i(t.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):m("",!0)],2)}}}),z=A(V,[["__scopeId","data-v-161eb7df"]]),F={class:"table"},K=["onClick"],W=I({__name:"Table",props:{columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},sorting:{default:()=>({order:"asc"})}},emits:["select","sortColumn"],setup(a,{emit:v}){const g=v,h=b(()=>{if(a.rowsMin===null)return[];const e=Math.max(0,a.rowsMin-a.rows.length);return new Array(e)}),y=b(()=>a.columns.map(e=>typeof e=="string"?{id:e,label:e}:e)),t=e=>{const w=e+1;return!!(a.rows[e+1]&&a.rows.findIndex(s=>s===a.selectedRow)===w)},c=e=>a.sorting.column===e.id&&a.sorting.order==="asc",o=e=>a.sorting.column===e.id&&a.sorting.order==="desc",R=e=>{if(!e.sort)return;const w=e.id===a.sorting.column&&a.sorting.order==="asc"?"desc":"asc";g("sortColumn",e.id,w)},M=E(),T=b(()=>!!M?.vnode.props?.onSelect);return(e,w)=>{const S=N,u=z;return n(),l("div",F,[e.columns.length>0?(n(),r(u,{key:0,class:d(["headers",{"selected-below":t(-1)}]),hoverable:!1},{default:f(()=>[(n(!0),l(k,null,$(p(y),s=>(n(),l("div",{key:s.id,class:d(["header",{sortable:s.sort,sorting:s.sort&&e.sorting.column===s.id,[s.align||""]:!!s.align}]),onClick:C=>R(s)},[B("span",null,L(s.label),1),s.sort?(n(),r(S,{key:0,class:d(["sorting-arrow",{asc:c(s),desc:o(s)}])},null,8,["class"])):m("",!0)],10,K))),128))]),_:1},8,["class"])):m("",!0),i(e.$slots,"default",{},void 0,!0),(n(!0),l(k,null,$(e.rows,(s,C)=>(n(),r(u,{key:s,data:s,class:d({"selected-below":t(C)}),expanded:e.expanded.includes(s),selectable:p(T),selected:e.selectedRow===s,onSelect:Y=>s&&g("select",s)},{"row-details":f(()=>[i(e.$slots,"row-details",{item:s},void 0,!0)]),default:f(()=>[i(e.$slots,"row",{item:s,idx:C,expanded:e.expanded.includes(s)},void 0,!0)]),_:2},1032,["data","class","expanded","selectable","selected","onSelect"]))),128)),(n(!0),l(k,null,$(p(h),s=>(n(),r(u,{key:s,hoverable:!1}))),128)),e.$slots["row-aggregation"]&&e.rows.length>0?(n(),r(u,{key:1,class:"aggregation",hoverable:!1},{default:f(()=>[i(e.$slots,"row-aggregation",{},void 0,!0)]),_:3})):m("",!0)])}}}),x=A(W,[["__scopeId","data-v-132de314"]]);export{x as _};
