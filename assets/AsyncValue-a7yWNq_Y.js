import{r as m,u as r}from"./timestamp-BJgOM8hi.js";import{d as h,ai as w,c,av as I,j as a,o as u,an as l,f as b,m as f,h as d,l as B}from"./index-B0gvS3y9.js";const g={class:"async-value"},k={key:0,class:"symbol"},S={class:"value"},C={key:1,class:"unit"},N={key:2,class:"symbol"},U="|/-\\",V=h({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1}},setup(e){let n=0,i=0;const o=w("|"),v=c(()=>typeof e.value=="string"?e.value:e.value===1/0?"∞":e.value===-1/0?"-∞":e.value?m(e.value,typeof e.precision=="function"?e.precision(e.value):e.precision,e.type??""):e.value===0&&e.showZero?"0":e.value===null||e.value===void 0?o.value:"?"),y=c(()=>e.precision===1/0||!e.type||typeof e.value=="string"?"":!e.value||!isFinite(e.value)?e.showUnit?r(0):"":r(e.value));return I(()=>e.value,t=>{if(clearInterval(i),n=0,t)return;const s=()=>{n=(n+1)%4,o.value=U[n]};i=window.setInterval(s,250)},{immediate:!0}),(t,s)=>(u(),a("div",g,[t.showSymbol&&t.type==="dollar"?(u(),a("span",k," $ ")):l("",!0),b("span",S,f(d(v)),1),t.showUnit?(u(),a("span",C,f(d(y)),1)):l("",!0),t.showSymbol&&t.type==="percentage"?(u(),a("span",N," % ")):l("",!0)]))}}),$=B(V,[["__scopeId","data-v-c17e757f"]]);export{$ as _};
