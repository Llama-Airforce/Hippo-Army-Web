import{_ as L,a as A}from"./TabItem.vue_vue_type_script_setup_true_lang-h3_s0Q7z.js";import{_ as D}from"./KPI-B2wIEWIa.js";import{_ as T}from"./fetch-7WrayJG1.js";import{u as E,a as F,b as K}from"./UseTabNavigation-C2NdHVqb.js";import{d as b,j as v,o as i,C as O,n as U,_ as P,r as x,c as h,t as Q,k as j,w as _,e as o,u as e,f as g,g as q,h as G,b as S,s as H,l as J,m as M,p as W,q as X,K as y,v as I}from"./index-DsSu0Rud.js";import{_ as Y}from"./Table-CnvyLu7P.js";import{u as Z,_ as ee}from"./UsePagination-AMK_SP_b.js";import"./Pagination-vgbH7lYO.js";const oe=b({__name:"IconExpander",props:{expanded:{type:Boolean,default:!1}},setup(p){return(n,s)=>{const a=O;return i(),v(a,{class:U(["expander",{expanded:n.expanded}])},null,8,["class"])}}}),ae=P(oe,[["__scopeId","data-v-7caf48cb"]]);function te(p,n){const s=x(p),a=x("desc"),r=(l,u)=>{s.value=l,a.value=u},c=h(()=>({column:s.value,order:a.value}));return{sortColumn:s,sortOrder:a,sorting:c,onSort:r}}const ne={class:"end"},se={class:"end"},re={class:"end"},$=20,le=b({__name:"TablePairs",props:{protocolName:{}},setup(p){const{isFetching:n,data:s}=E(Q(()=>({chain:"ethereum",protocol_name:p.protocolName||""})),h(()=>!!p.protocolName)),a=["",{id:"name",label:"Name",sort:!0},{id:"tvl",label:"TVL",sort:!0,align:"end"},{id:"rate",label:"Interest Rate",sort:!0,align:"end"},{id:"util",label:"Util",sort:!0,align:"end"}],{sorting:r,onSort:c}=te("tvl"),l=h(()=>(s.value??[]).orderBy(m=>{switch(r.value.column){case"name":return m.name;case"tvl":return m.totalCollateral;case"rate":return m.interestRate;case"util":return m.utilizationRate}},r.value.order)),{page:u,rowsPage:d,onPage:t}=Z(l,$),C=j(),k=async m=>{await C.push({name:"pair",params:{pairId:m.pairId.toString()}})};return(m,me)=>{const R=ee,B=ae,w=T,V=Y,z=G;return i(),v(z,{title:"Pairs",loading:e(n)},{actions:_(()=>[o(R,{"items-count":e(l).length,"items-per-page":$,page:e(u),onPage:e(t)},null,8,["items-count","page","onPage"])]),default:_(()=>[o(V,{class:"pairs-table",rows:e(d),columns:a,sorting:e(r),onSortColumn:e(c),onSelect:k},{row:_(({item:f})=>[o(B),g("div",null,q(f.name),1),g("div",ne,[o(w,{"show-zero":"",type:"dollar",value:f.totalCollateral/10**21,precision:2},null,8,["value"])]),g("div",se,[o(w,{"show-zero":"",type:"percentage",value:f.interestRate/10**8,precision:2},null,8,["value"])]),g("div",re,[o(w,{"show-zero":"",type:"percentage",value:f.utilizationRate,precision:2},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["loading"])}}}),ce=P(le,[["__scopeId","data-v-39def345"]]),ue={class:"dashboard-grid"},ie={class:"kpis"},_e=b({__name:"Protocol",props:{protocol:{}},setup(p){const{isFetching:n,data:s}=F({chain:"ethereum"}),a=h(()=>{var r;return(((r=s.value)==null?void 0:r.protocols)??[]).find(c=>c.name.toLocaleLowerCase()===p.protocol)});return(r,c)=>{var d;const l=T,u=D;return i(),S("div",ue,[g("div",ie,[o(u,{label:"Pairs","has-value":!e(n)},{default:_(()=>{var t;return[o(l,{value:(t=e(a))==null?void 0:t.pairsCount,precision:0},null,8,["value"])]}),_:1},8,["has-value"]),o(u,{label:"Total collateral","has-value":!e(n)},{default:_(()=>{var t;return[o(l,{value:(t=e(a))!=null&&t.totalCollateral?e(a).totalCollateral/10**18:void 0,precision:0},null,8,["value"])]}),_:1},8,["has-value"]),o(u,{label:"Total debt","has-value":!e(n)},{default:_(()=>{var t;return[o(l,{value:(t=e(a))==null?void 0:t.totalDebt,precision:0},null,8,["value"])]}),_:1},8,["has-value"])]),o(ce,{"protocol-name":(d=e(a))==null?void 0:d.name},null,8,["protocol-name"])])}}}),N=P(_e,[["__scopeId","data-v-8294f885"]]),pe={key:1,class:"dashboard"},de=b({__name:"Protocols.page",setup(p){const{tabActive:n,tabActiveIndex:s}=K(["curvelend","fraxlend"],"protocols",void 0,{tabParamName:"protocolName"}),{crumbs:a}=H(J()),r=M();return W(()=>r.name,c=>{c!=="pair"&&(a.value=[{id:"protocols",label:"Protocols",pathName:"protocols"}])},{immediate:!0}),(c,l)=>{const u=X("router-view"),d=L,t=A;return c.$route.name==="pair"?(i(),v(u,{key:0})):(i(),S("div",pe,[o(t,{active:e(s),onTab:l[0]||(l[0]=C=>s.value=C.index)},{default:_(()=>[o(d,{header:"Curve Lend"},{default:_(()=>[(i(),v(y,null,[e(n)==="curvelend"?(i(),v(N,{key:0,protocol:"curvelend"})):I("",!0)],1024))]),_:1}),o(d,{header:"Frax Lend"},{default:_(()=>[(i(),v(y,null,[e(n)==="fraxlend"?(i(),v(N,{key:0,protocol:"fraxlend"})):I("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}}}),xe=P(de,[["__scopeId","data-v-e8cec039"]]);export{xe as default};
