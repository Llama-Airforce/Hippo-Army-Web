import{az as M,aD as Q,aJ as b,aK as k,al as c,aL as z,au as N}from"./index-B_NxFp7S.js";const x=new WeakMap;function $(o,n,p={}){const{mode:m="replace",route:f=M(),router:a=Q(),transform:s}=p;let u=e=>e,y=e=>e;typeof s=="function"?u=s:s&&(s.get&&(u=s.get),s.set&&(y=s.set)),x.has(a)||x.set(a,new Map);const i=x.get(a);let r=f.params[o];b(()=>{r=void 0});let l;const q=k((e,h)=>(l=h,{get(){return e(),u(r!==void 0&&r!==""?r:c(n))},set(t){t=y(t),r!==t&&(r=t===c(n)||t===null?void 0:t,i.set(o,t===c(n)||t===null?void 0:t),h(),z(()=>{if(i.size===0)return;const d=Object.fromEntries(i.entries());i.clear();const{params:g,query:w,hash:_}=f;a[c(m)]({params:{...g,...d},query:w,hash:_})}))}}));return N(()=>f.params[o],e=>{r!==u(e)&&(r=e,l())},{flush:"sync"}),q}const R=new WeakMap;function j(o,n,p={}){const{mode:m="replace",route:f=M(),router:a=Q(),transform:s}=p;let u=e=>e,y=e=>e;typeof s=="function"?u=s:s&&(s.get&&(u=s.get),s.set&&(y=s.set)),R.has(a)||R.set(a,new Map);const i=R.get(a);let r=f.query[o];b(()=>{r=void 0});let l;const q=k((e,h)=>(l=h,{get(){return e(),u(r!==void 0?r:c(n))},set(t){t=y(t),r!==t&&(r=t===c(n)?void 0:t,i.set(o,t===c(n)?void 0:t),h(),z(()=>{if(i.size===0)return;const d=Object.fromEntries(i.entries());i.clear();const{params:g,query:w,hash:_}=f;a[c(m)]({params:g,query:{...w,...d},hash:_})}))}}));return N(()=>f.query[o],e=>{r!==u(e)&&(r=e,l())},{flush:"sync"}),q}function D(o){const n=o.match(/\((CurveLend|Fraxlend): ([^)]+)\) - (\d+)/);if(!n)return o;const p=n[2],m=parseInt(n[3],10);return m>1?`${p} (#${m})`:p}export{$ as a,D as p,j as u};
