import{ay as P,aF as M,aK as j,aL as x,ax as y,aM as O,ar as d,ah as Q}from"./index-B7fEYGi1.js";const R=new WeakMap;function S(s,c,p={}){const{mode:u="replace",route:m=P(),router:i=M(),transform:r}=p;let o=e=>e,f=e=>e;typeof r=="function"?o=r:r&&(r.get&&(o=r.get),r.set&&(f=r.set)),R.has(i)||R.set(i,new Map);const n=R.get(i);let a=m.params[s];j(()=>{a=void 0});let l;const q=x((e,h)=>(l=h,{get(){return e(),o(a!==void 0&&a!==""?a:y(c))},set(t){t=f(t),a!==t&&(a=t===y(c)||t===null?void 0:t,n.set(s,t===y(c)||t===null?void 0:t),h(),O(()=>{if(n.size===0)return;const g=Object.fromEntries(n.entries());n.clear();const{params:b,query:w,hash:N}=m;i[y(u)]({params:{...b,...g},query:w,hash:N})}))}}));return d(()=>m.params[s],e=>{a!==o(e)&&(a=e,l())},{flush:"sync"}),q}const _=new WeakMap;function E(s,c,p={}){const{mode:u="replace",route:m=P(),router:i=M(),transform:r}=p;let o=e=>e,f=e=>e;typeof r=="function"?o=r:r&&(r.get&&(o=r.get),r.set&&(f=r.set)),_.has(i)||_.set(i,new Map);const n=_.get(i);let a=m.query[s];j(()=>{a=void 0});let l;const q=x((e,h)=>(l=h,{get(){return e(),o(a!==void 0?a:y(c))},set(t){t=f(t),a!==t&&(a=t===y(c)?void 0:t,n.set(s,t===y(c)?void 0:t),h(),O(()=>{if(n.size===0)return;const g=Object.fromEntries(n.entries());n.clear();const{params:b,query:w,hash:N}=m;i[y(u)]({params:b,query:{...w,...g},hash:N})}))}}));return d(()=>m.query[s],e=>{a!==o(e)&&(a=e,l())},{flush:"sync"}),q}function $(s){const c=s.match(/\((CurveLend|Fraxlend): ([^)]+)\) - (\d+)/);if(!c)return s;const p=c[2],u=parseInt(c[3],10);return u>1?`${p} (#${u})`:p}function z(s,c,p,u){const m=M(),i=(u==null?void 0:u.tabParamName)||"tab",r=S(i,s[0]),o=Q(-1);return d(r,f=>o.value=s.findIndex(n=>n===f),{immediate:!0}),d(o,async(f,n)=>{var e;f===-1&&(f=0);const a=n===-1||n===void 0||r.value==="",l=m.currentRoute.value.query,q=s[f];(e=u==null?void 0:u.beforeNavigate)==null||e.call(u,q),await m.push({name:c,params:{[i]:s[f],...Object.fromEntries(Object.entries({}).map(([h,t])=>[h,String(t)]))},query:l,replace:a})},{immediate:!0}),{tabActive:r,tabActiveIndex:o}}export{z as a,S as b,$ as p,E as u};
