import{d as A,ai as b,at as B,c as t,j as p,o as c,g as e,f as P,e as D,h as a,ae as S,an as T,aC as I,aT as N,b as L,ar as E,ay as F,l as R}from"./index-C6WqhbS3.js";import{a as $,_ as j}from"./UsePagination-DQu_4FcT.js";import{_ as z}from"./InputText-RJkrQMsb.js";import{a as G,_ as H}from"./TabItem.vue_vue_type_script_setup_true_lang-jAaD2wXm.js";import{_ as U}from"./DashboardHeader-BHdwVJ6W.js";import{u as q,P as J}from"./Proposal-o6Zn9-Rr.js";import"./timestamp-ZxrFfTJg.js";import"./AsyncValue-CevZ32Cf.js";import"./Pagination-vgbH7lYO.js";import"./KPI-CQqEY5Bg.js";import"./Tooltip-QeurKRjh.js";const K={class:"dashboard"},M={class:"filters"},O={class:"proposals-content"},Q={key:0},W=A({__name:"Proposals.page",setup(X){const i=b(0),{page:u,onPage:d}=$(),r=b(""),x=B(r,300),_=t(()=>{switch(i.value){case 0:return"all";case 1:return"active";case 2:return"executable";case 3:return"failed";case 4:return"executed";default:return"all"}}),V=t(()=>x.value.toLocaleLowerCase()),{isFetching:m,data:g}=q(t(()=>({search_string:V.value}))),f=t(()=>{var o;return((o=g.value)==null?void 0:o.length)??0}),h=t(()=>(g.value??[]).filter(o=>_.value==="all"||o.status===_.value).orderBy(o=>o.createdAt.getDate(),"desc"));return(o,l)=>{const y=U,n=G,C=H,k=z,v=j,w=F;return c(),p("div",K,[e(y,{title:"Governance proposals",description:"View and search for governance proposals"}),e(C,{onTab:l[0]||(l[0]=s=>i.value=s.index)},{default:D(()=>[e(n,{header:"All"}),e(n,{header:"Active"}),e(n,{header:"Passed"}),e(n,{header:"Denied"}),e(n,{header:"Executed"})]),_:1}),P("div",M,[e(k,{modelValue:a(r),"onUpdate:modelValue":l[1]||(l[1]=s=>S(r)?r.value=s:null),search:"",style:{"flex-grow":"1"},placeholder:"Search for Resupply proposals"},null,8,["modelValue"]),e(v,{class:"pagination","items-count":a(f),"items-per-page":10,page:a(u),onPage:a(d)},null,8,["items-count","page","onPage"])]),P("div",O,[(c(!0),p(I,null,N(a(h),s=>(c(),L(J,{key:s.proposalId,class:E(["loading-backdrop",{loading:a(m)}]),proposal:s},null,8,["proposal","class"]))),128)),e(v,{class:"pagination","items-count":a(f),"items-per-page":10,page:a(u),onPage:a(d)},null,8,["items-count","page","onPage"]),a(h).length===0?(c(),p("div",Q,"No proposals could be found.")):T("",!0),e(w,{loading:a(m)},null,8,["loading"])])])}}}),pe=R(W,[["__scopeId","data-v-4b0ace7f"]]);export{pe as default};
