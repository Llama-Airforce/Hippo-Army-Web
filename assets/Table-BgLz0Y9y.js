import{d as A,a$ as j,c as m,j as r,o as n,ar as i,f as S,b as d,an as p,as as c,h as v,aW as D,e as f,l as M,b3 as E,aC as B,aK as R,m as L,aY as N}from"./index-B0gvS3y9.js";const O={class:"row-details"},V=A({__name:"TableRow",props:{data:{},selected:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!0},expanded:{type:Boolean,default:!1}},emits:["select"],setup(a,{emit:h}){const g=h,y=j(),C=m(()=>{var o;const t=y["row-details"];if(t){const l=(o=t({})[0])==null?void 0:o.children;if(l)return Array.isArray(l)&&l.length>0}return!1});return(t,o)=>{const w=D;return n(),r("div",{class:i(["row",{expanded:t.expanded}])},[S("div",{class:i(["row-data",{active:t.selected,selectable:t.selectable,hoverable:t.hoverable}]),onClick:o[0]||(o[0]=l=>t.selectable&&t.data&&g("select",t.data))},[c(t.$slots,"default",{},void 0,!0)],2),v(C)&&t.data?(n(),d(w,{key:0,expanded:t.expanded},{default:f(()=>[S("div",O,[c(t.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):p("",!0)],2)}}}),z=M(V,[["__scopeId","data-v-161eb7df"]]),F={class:"table"},K=["onClick"],W=A({__name:"Table",props:{columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},sorting:{default:()=>({order:"asc"})}},emits:["select","sortColumn"],setup(a,{emit:h}){const g=h,y=m(()=>{if(a.rowsMin===null)return[];const e=Math.max(0,a.rowsMin-a.rows.length);return new Array(e)}),C=m(()=>a.columns.map(e=>typeof e=="string"?{id:e,label:e}:e)),t=e=>{const b=e+1;return!!(a.rows[e+1]&&a.rows.findIndex(s=>s===a.selectedRow)===b)},o=e=>a.sorting.column===e.id&&a.sorting.order==="asc",w=e=>a.sorting.column===e.id&&a.sorting.order==="desc",l=e=>{if(!e.sort)return;const b=e.id===a.sorting.column&&a.sorting.order==="asc"?"desc":"asc";g("sortColumn",e.id,b)},k=E(),T=m(()=>{var e;return!!((e=k==null?void 0:k.vnode.props)!=null&&e.onSelect)});return(e,b)=>{const I=N,u=z;return n(),r("div",F,[e.columns.length>0?(n(),d(u,{key:0,class:i(["headers",{"selected-below":t(-1)}]),hoverable:!1},{default:f(()=>[(n(!0),r(B,null,R(v(C),s=>(n(),r("div",{key:s.id,class:i(["header",{sortable:s.sort,sorting:s.sort&&e.sorting.column===s.id,[s.align||""]:!!s.align}]),onClick:$=>l(s)},[S("span",null,L(s.label),1),s.sort?(n(),d(I,{key:0,class:i(["sorting-arrow",{asc:o(s),desc:w(s)}])},null,8,["class"])):p("",!0)],10,K))),128))]),_:1},8,["class"])):p("",!0),c(e.$slots,"default",{},void 0,!0),(n(!0),r(B,null,R(e.rows,(s,$)=>(n(),d(u,{key:s,data:s,class:i({"selected-below":t($)}),expanded:e.expanded.includes(s),selectable:v(T),selected:e.selectedRow===s,onSelect:Y=>s&&g("select",s)},{"row-details":f(()=>[c(e.$slots,"row-details",{item:s},void 0,!0)]),default:f(()=>[c(e.$slots,"row",{item:s,idx:$,expanded:e.expanded.includes(s)},void 0,!0)]),_:2},1032,["data","class","expanded","selectable","selected","onSelect"]))),128)),(n(!0),r(B,null,R(v(y),s=>(n(),d(u,{key:s,hoverable:!1}))),128)),e.$slots["row-aggregation"]&&e.rows.length>0?(n(),d(u,{key:1,class:"aggregation",hoverable:!1},{default:f(()=>[c(e.$slots,"row-aggregation",{},void 0,!0)]),_:3})):p("",!0)])}}}),x=M(W,[["__scopeId","data-v-132de314"]]);export{x as _};
