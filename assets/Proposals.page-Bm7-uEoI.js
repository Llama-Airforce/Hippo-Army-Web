import{d as C,ah as b,as as A,c as t,j as p,o as c,g as e,f as P,e as D,h as a,ad as S,am as I,aB as N,aV as T,b as L,aq as E,ax as F,l as R}from"./index-BgPU8Sw7.js";import{a as $,_ as j}from"./UsePagination-CVTD_cJr.js";import{_ as q}from"./InputText-BZ7-gt8K.js";import{a as z,_ as G}from"./TabItem.vue_vue_type_script_setup_true_lang-C5Ot3N1j.js";import{_ as H}from"./DashboardHeader-DIUaj5yv.js";import{u as U,P as J}from"./Proposal-REXjv5MY.js";import"./Number-DpAK-pXX.js";import"./AsyncValue-iTYOvWr4.js";import"./Pagination-vgbH7lYO.js";import"./KPI-CngUDtHK.js";import"./Tooltip-DzxxnI9b.js";const K={class:"dashboard"},M={class:"filters"},O={class:"proposals-content"},Q={key:0},W=C({__name:"Proposals.page",setup(X){const i=b(0),{page:u,onPage:d}=$(),r=b(""),x=A(r,300),_=t(()=>{switch(i.value){case 0:return"all";case 1:return"active";case 2:return"executable";case 3:return"failed";case 4:return"executed";default:return"all"}}),V=t(()=>x.value.toLocaleLowerCase()),{isFetching:m,data:g}=U(t(()=>({search_string:V.value}))),f=t(()=>{var o;return((o=g.value)==null?void 0:o.length)??0}),h=t(()=>(g.value??[]).filter(o=>_.value==="all"||o.status===_.value).orderBy(o=>o.createdAt.getDate(),"desc"));return(o,l)=>{const k=H,n=z,w=G,y=q,v=j,B=F;return c(),p("div",K,[e(k,{title:"Governance proposals",description:"View and search for governance proposals"}),e(w,{onTab:l[0]||(l[0]=s=>i.value=s.index)},{default:D(()=>[e(n,{header:"All"}),e(n,{header:"Active"}),e(n,{header:"Passed"}),e(n,{header:"Denied"}),e(n,{header:"Executed"})]),_:1}),P("div",M,[e(y,{modelValue:a(r),"onUpdate:modelValue":l[1]||(l[1]=s=>S(r)?r.value=s:null),search:"",style:{"flex-grow":"1"},placeholder:"Search for Resupply proposals"},null,8,["modelValue"]),e(v,{class:"pagination","items-count":a(f),"items-per-page":10,page:a(u),onPage:a(d)},null,8,["items-count","page","onPage"])]),P("div",O,[(c(!0),p(N,null,T(a(h),s=>(c(),L(J,{key:s.proposalId,class:E(["loading-backdrop",{loading:a(m)}]),proposal:s},null,8,["proposal","class"]))),128)),e(v,{class:"pagination","items-count":a(f),"items-per-page":10,page:a(u),onPage:a(d)},null,8,["items-count","page","onPage"]),a(h).length===0?(c(),p("div",Q,"No proposals could be found.")):I("",!0),e(B,{loading:a(m)},null,8,["loading"])])])}}}),pe=R(W,[["__scopeId","data-v-4b0ace7f"]]);export{pe as default};
